@import 'page-colours';

//branding colours and styles

/**********************
  Common styles
  All brandings
**********************/

//space out menu for all brandings
.govuk-header {
  @include govuk-media-query($from: desktop) {
    padding-bottom: 0;

    .govuk-header__navigation {
      display: flex;
      justify-content: space-between;

      li {
        padding:0;
      } 
    }
  }
}

*{
  @include branding($brandings) {

    &.govuk-main-wrapper {
      //remove gap at top of page
      padding-top:0;
    }

    //remove GDS brand colour bar
    &.govuk-header__container {
      border-bottom: none;
    }
    &.govuk-header {
      background: branded(brand-colour);

      //remove MoJ logo text
      .govuk-header__logotype-text {
        display:none;
      }
			.govuk-header__content {
				a:link{
					color: branded(header-link);
					&:hover:focus{
						color: branded(header-link-hover-focus);
					}
					&:focus:not(:active):not(:hover) {
						color: branded(header-link-focus);
						background-color: branded(header-link-focus-highlight);
						border-bottom-color: branded(header-link-focus-underline);
						box-shadow: 0 -2px branded(link-focus-background), 0 4px branded(link-focus-colour);
					}
        }
				.current-menu-item a:link:not(:focus) {
					color: branded(header-link-current);
				}
			}
    }
    &.govuk-button {
      border:branded(button-border);
      box-shadow: 0 1px 0 branded(button);
      color:branded(button-text);
      background-color:branded(button);
      &:hover, &:active, &:focus, &:focus:not(:active):not(:hover) {
        background-color: branded(button-hover);
        color: branded(button-hover-text);
				svg {
					fill: branded(button-hover-text);
				}
      }
      &:hover, &:focus:not(:active):not(:hover) {
        box-shadow: 0 1px 0 branded(button-hover);
      }
      &:active {
        box-shadow: none;
      }
      &:focus {
				background-color: branded(link-focus-colour);
        border-color: branded(link-focus-colour);
        box-shadow: 0 1px 0 branded(link-focus-colour);
      }
      svg {
        fill: branded(button-text);
      }
    }

    &.govuk-input {
      border: 2px solid branded(input-border);

      &:focus {
        outline: 2px solid branded(link-focus-colour);
        outline-offset: 0;
        box-shadow: none;
      }
    }

    //link focus state
    #primary a:not(class),
    #primary a[class=""],
    a:link {
      &:focus {
        background-color: branded(link-focus-background);
        box-shadow: 0 -2px branded(link-focus-background), 0 4px branded(link-focus-colour);
        outline: 4px solid transparent;
      }
    }
    
    //shading colour - set here and use @extend to shade elements below
    .hale-shaded {
      background-color:branded(title-shading);
    }
    
    //footer
    &.govuk-footer {
      border-top-width: 4px;
      border-top-color: branded(brand-colour);
      background: branded(footer-background);

      .govuk-footer__link:hover {
        text-decoration:none;
      }
      .widget_social_widget .hale-social-link:focus {
        box-shadow: 
          -4px 0 branded(footer-link-focus-background),
          4px 0 branded(footer-link-focus-background),
          -4px 4px branded(link-focus-colour),
          4px 4px branded(link-focus-colour);
      }
    }
  }
}


/**********************
    Uranus branding
    Magistrates
**********************/
.hale-branding--uranus {
  //header colour.
  .govuk-header {
    padding-bottom: 1em;

    .hale-header__logotype-text--custom {
      font-weight: 400;
      font-size: 22px;
      padding-left: 0.5em;
      position: relative;
      top: -0.2em;
    }
  }

  .govuk-button {
    border-radius: 4px;
  }
}

/**********************
		Unused - example of gov styling with minor change
**********************/
.hale-branding--eris {
  .govuk-header__container {
    border-bottom-color: #B10E1E;
  }
}

/**********************
    Neptune branding
    IMA
**********************/
.hale-branding--neptune {

  //light blue shading for page title
  article>*:first-child {
    padding:0.2em 0;

    &:before,
    +ul>li:before {
      transform: translateY(-20%);
    }
    
    &:before,
    +ul>li:before,
    &:after,
    +ul>li:after {
      @extend .hale-shaded; // gets the shading colour
      position: absolute;
      content: "";
      left: 0;
      width: 100vw;
      height: 2.2em;
      z-index: -1;
    }
  }

  //header
  .govuk-header {
	
		.govuk-header__navigation {
			border-top: 1px solid $hale-neptune-top-border-colour;
		}
    .govuk-header__content {
      width:100%;
      min-height: 15px;
      .govuk-header__navigation a:link {
        display:inline-block;
        font-weight: 400;
      }
      //header arrangement
      li.current-menu-item a:link,
      .govuk-header__menu-button,
      a:link {
        border-bottom-width: 4px;
				border-bottom-style: solid;
        text-decoration: none;
        box-shadow: none;
				&:not(:hover) {
					border-bottom-color:transparent;
				}
        &:hover {
					border-bottom-color:govuk-colour("white");
          background-color: unset;
        }
				&:focus:not(:active):not(:hover) {
					box-shadow:none;
				}
      }
    }
  }

  .hale-header .hale-header__search-form {
    @include govuk-media-query($from: tablet) {
      //space for menu button
      margin-left:auto;
      margin-right:66px;
    }
    @include govuk-media-query($from: desktop) {
      margin-left:auto;
      margin-right:0;
    }

    .govuk-button {
      border-radius: 4px;
    }
/*
    .hale-search__input {
      border-bottom-right-radius: 4px;
      border-top-right-radius: 4px;

      +.hale-search__submit {
        border-bottom-left-radius: 0;
        border-top-left-radius: 0;
      }
      &:focus {
        outline-width: 3px;
        border-bottom-right-radius: 0;
        border-top-right-radius: 0;

        +.hale-search__submit,
        .hale-search__submit.govuk-button.govuk-button--secondary {
          background: $hale-neptune-button;
          box-shadow: 0 1px 0 $hale-neptune-button;
          border-radius: 0;
        }
      }
    }
		*/
  }
}